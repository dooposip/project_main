{% extends 'base.html' %}

{% block css %}
<!-- 슬라이더 cdn -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<!-- 폰트 -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">

<!-- css/ -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block content %}
<!-- 슬라이더 들어갈 부분-->
 <div id="slider">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200&h=465&fit=crop" alt="Mountain View">
                    <div class="slide-content">
                        <div class="slide-title">Mountain Peaks</div>
                        <div class="slide-description">탁 트인 자연 속에서 새로운 영감을 발견하세요. 세계 최고의 등반 명소에서 당신만의 모험을 시작하세요.</div>
                        <a href="{{ url_for('sub.sub2') }}">
                        <button class="slide-cta">
                            여행 시작하기
                            <i class="fa-solid fa-arrow-right"></i>
                        </button>
                        </a>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=1200&h=465&fit=crop" alt="Forest Path">
                    <div class="slide-content">
                        <div class="slide-title">Forest Retreat</div>
                        <div class="slide-description">고요한 숲길을 따라 평화로운 순간을 만나보세요. 자연이 선사하는 힐링의 시간을 경험하세요.</div>
                        <a href="{{ url_for('sub.sub2') }}">
                        <button class="slide-cta">
                            여행 시작하기
                            <i class="fa-solid fa-arrow-right"></i>
                        </button>
                        </a>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1200&h=465&fit=crop" alt="Ocean Waves">
                    <div class="slide-content">
                        <div class="slide-title">Endless Blue</div>
                        <div class="slide-description">푸른 바다가 선사하는 자유로움을 느껴보세요. 완벽한 해변 휴양지에서 특별한 추억을 만드세요.</div>
                        <a href="{{ url_for('sub.sub2') }}">
                        <button class="slide-cta">
                            여행 시작하기
                            <i class="fa-solid fa-arrow-right"></i>
                        </button>
                        </a>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=1200&h=465&fit=crop" alt="Sunset Sky">
                    <div class="slide-content">
                        <div class="slide-title">Golden Hour</div>
                        <div class="slide-description">황금빛 석양이 물들이는 하늘의 황홀한 순간. 세계에서 가장 아름다운 석양을 감상하세요.</div>
                        <a href="{{ url_for('sub.sub2') }}">
                        <button class="slide-cta">
                            여행 시작하기
                            <i class="fa-solid fa-arrow-right"></i>
                        </button>
                        </a>
                    </div>
                </div>
                <div class="swiper-slide">
                    <img src="https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=1200&h=465&fit=crop" alt="Starry Night">
                    <div class="slide-content">
                        <div class="slide-title">Starry Dreams</div>
                        <div class="slide-description">별이 빛나는 밤, 꿈같은 순간을 경험하세요. 도심을 벗어나 은하수 아래에서의 특별한 밤을 보내세요.</div>
                        <a href="{{ url_for('sub.sub2') }}">
                        <button class="slide-cta">
                            여행 시작하기
                            <i class="fa-solid fa-arrow-right"></i>
                        </button>
                        </a>
                    </div>
                </div>
            </div>

            <div class="custom-pagination">
                <div class="pagination-bullet active" data-index="0"></div>
                <div class="pagination-bullet" data-index="1"></div>
                <div class="pagination-bullet" data-index="2"></div>
                <div class="pagination-bullet" data-index="3"></div>
                <div class="pagination-bullet" data-index="4"></div>
            </div>

            <div class="slide_button">
                <div class="nav-button" id="buttonPrev">
                    <i class="fa-solid fa-chevron-up"></i>
                </div>
                <div class="nav-button" id="buttonNext">
                    <i class="fa-solid fa-chevron-down"></i>
                </div>
            </div>

        </div>
    </div>
<!-- 여행지 추천 1 -->
<div class="travel_box">
            <span class="four_cut">
                <img src="../static/img/soul.jpg" alt="서울">
            </span>
            <div class="txt_box">
                <h2>SEOUL</h2>
                <div class="sun"></div>
                <p>찬란한 문화유산과 다채로운 도시의 매력이 어우러져 해마다 수많은<br> 관광객이 찾는 특별한 여행지, 서울</p>
            </div>
</div>
<div class="travel_box">
            <div class="txt_box">
                <h2>JEJU</h2>
                <div class="sun2"></div>
                <p>아름다운 경관과 오염되지 않은 자연환경으로 해마다 수만 명의 관광객이<br> 찾아오는 관광지, 아름다운 섬 제주</p>
            </div>
            <span class="four_cut">
                <img src="../static/img/jeju.jpg" alt="제주">
            </span>
</div>

<!-- 여행지 추천 2 -->
<div class="H2-slider">
    <div class="H2-title">MD 추천코스</div>
    <div class="H2-subtitle">국내 여행지 모아보기</div>
    <div class="section-wrapper2">
        <div class="section2">
            <div class="swiper swiper2">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/mulnori.jpg" alt="물놀이">
                            <span class="slide-text">물놀이</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/hanok.jpg" alt="한옥">
                            <span class="slide-text">한옥</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/bulguksa.jpg" alt="경주">
                            <span class="slide-text">경주</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/yakyung.jpg" alt="야경">
                            <span class="slide-text">야경</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/meseum.jpg" alt="박물관">
                            <span class="slide-text">박물관</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/healing.jpg" alt="힐링">
                            <span class="slide-text">힐링</span>
                        </a>
                    </div>
                    <div class="swiper-slide">
                        <a href="#" class="slide-link">
                            <img src="../static/img/sanhecck.jpg" alt="산책">
                            <span class="slide-text">산책</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- 커스텀 버튼 -->
        <div class="custom-prev2"><span>‹</span></div>
        <div class="custom-next2"><span>›</span></div>
    </div>
</div>

<!-- 계절여행지추천 1 -->
<div class="container_box">
    <div class="container">
        <div class="banner">
            <img class="banner_box" src="../static/img/box2.jpg" alt="가을박스">
            <div class="banner_text">
                <h2>이 계절<br>가장 빛나는<br>가을 여행지</h2>
            </div>
        </div>

        <div class="card_box">
            <div class="card">
                <img src="../static/img/travel1.jpg" alt="경주">
                <div class="card_text">
                    <h3>경북 경주 핑크 뮬리밭</h3>
                    <p>#국내여행 #sns핫플 #인생샷</p>
                    <span>
                    <i class="fa-regular fa-heart like-btn" onclick="toggleLike(this)"></i>
                    </span>
                </div>
            </div>
            <div class="card">
                <img src="../static/img/tralvel2.jpg" alt="영주">
                <div class="card_text">
                    <h3>경상북도 영주 부석사</h3>
                    <p>#전통한옥 #sns핫플 #가을여행</p>
                    <span>
                    <i class="fa-regular fa-heart like-btn" onclick="toggleLike(this)"></i>
                    </span>
                </div>
            </div>
            <div class="card">
                <img src="../static/img/travel3.jpg" alt="용비지">
                <div class="card_text">
                    <h3>충남 서산 용비지</h3>
                    <P>#서산 가볼만한 곳 #서산용유지 #한국의스위스</P>
                    <span>
                    <i class="fa-regular fa-heart like-btn" onclick="toggleLike(this)"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 계절여행지추천 2 -->
<div class="container_box2">
    <div class="container2">
        <div class="card_box2">
            <div class="card2">
                <img src="../static/img/summer1.jpg" alt="부산">
                <div class="card_text2">
                    <h3>부산 해운대 블루라인파크</h3>
                    <p>#추천여행 #여름 #휴가 #바다여행</p>
                    <span>
                    <i class="fa-regular fa-heart like-btn" onclick="toggleLike(this)"></i>
                    </span>
                </div>
            </div>
            <div class="card2">
                <img src="../static/img/summer2.jpg" alt="속초">
                <div class="card_text2">
                    <h3>강원도 속초 BEACH</h3>
                    <p>#당일치기여행 #가족여행 #데이트코스</p>
                    <span>
                    <i class="fa-regular fa-heart like-btn" onclick="toggleLike(this)"></i>
                    </span>
                </div>
            </div>
            <div class="card2">
                <img src="../static/img/summer.jpg" alt="단양">
                <div class="card_text2">
                    <h3>단양 패러글라이딩</h3>
                    <P>#단양 여행코스 #가볼만한곳 #단양축제</P>
                    <span>
                    <i class="fa-regular fa-heart like-btn" onclick="toggleLike(this)"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="banner2">
        <img class="banner_box2" src="../static/img/box.jpg" alt="여름박스">
        <div class="banner_text2">
            <h2>이 계절<br>가장 빛나는<br>여름 여행지</h2>
        </div>
    </div>
</div>

<!-- 여행지 목록 -->
<div class="Tour_list">
    <h2>여행지 목록</h2>
    <table class="Tour_list_table">
        <thead>
            <tr class="Tour_list_tr">
                <th class="Tour_table_id">번호</th>
                <th class="Tour_table_img">이미지</th>
                <th class="Tour_table_content">관광지명</th>
                <th class="Tour_table_season">추천계절</th>
            </tr>
        </thead>
        <tbody>
            {% if tour_list %}
                {% for tour in tour_list%}
                    <tr>
                        <td>{{ tour.id }}</td>
                        <td>
                            <a href="{{url_for('sub.detail', tour_id=tour.id)}}">
                                {% if tour.image_path %}
                                    <img src="{{url_for('static', filename=tour.image_path)}}" alt="썸네일" style="width: 150px;">
                                {% endif %}
                            </a>
                        </td>
                        <td style="text-align: left;">
                            <a href="{{url_for('sub.detail', tour_id=tour.id)}}">{{tour.place}}</a> 
                            <br> {{tour.content}}
                        </td>
                        <td>{{tour.season}}</td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="3">여행지가 없습니다.</td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>

<!--게시판-->
<div class="container3 my-3">
    <table class="table table-hover">
        <thead>
            <tr class="table-dark">
                <th>번호</th>
                <th>제목</th>
                <th>글쓴이</th>
                <th>작성일시</th>
            </tr>
        </thead>
        <tbody>
            {% if notice_list %}
            {% for notice in notice_list.items %}
            <tr>
                <td>{{ notice_list.total - (notice_list.page - 1) * notice_list.per_page - loop.index0 }}</td>
                <td><a href="{{ url_for('notice.detail', notice_id=notice.id) }}">{{ notice.subject }}</a>
                    {% if notice.comment_set|length > 0 %}
                    <span class="text-danger small mx-2">[{{ notice.comment_set|length }}]</span>
                    {% endif %}
                </td>
                <td>{{ notice.user.username }}</td>
                <td>{{ notice.create_date.strftime('%Y-%m-%d %H:%M') }}</td>
            </tr>
            {% endfor %}
            {% else %}
            <tr>
                <td colspan="3">질문이 없습니다.</td>
            </tr>
            {% endif %}
        </tbody>
    </table>

    <!--페이징 처리-->
    <div class="page">
        <ul class="pagination justify-content-center">
            <!--이전버튼-->
            {% if notice_list.has_prev %}
            <li class="page-item"><a data-page="{{ notice_list.prev_num }}" href="javascript:void(0)"
                    class="page-link">이전</a></li>
            {% else %}
            <li class="page-item disabled"><a href="javascript:void(0)" class="page-link">이전</a></li>
            {% endif %}

            <!--페이지 번호-->
            {% for page_num in notice_list.iter_pages() %}
            {% if page_num %}
            {% if page_num != notice_list.page %}
            <li class="page-item"><a class="page-link" data-page="{{ page_num }}" href="javascript:void(0)">{{ page_num
                    }}</a></li>
            {%else%}
            <li class="page-item active">
                <a class="page-link" href="javascript:void(0)" aria-current="page">{{ page_num }}</a>
            </li>
            {% endif %}
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="javascript:void(0)">...</a></li>
            {% endif %}
            {% endfor %}

            <!--다음버튼-->
            {% if notice_list.has_next %}
            <li class="page-item"><a data-page="{{ notice_list.next_num }}" href="javascript:void(0)"
                    class="page-link">다음</a></li>
            {% else %}
            <li class="page-item disabled"><a href="javascript:void(0)" class="page-link">다음</a></li>
            {% endif %}
        </ul>
    </div>
    <div class="container4">
        <a href="{{ url_for('notice.create') }}" class="btn btn-primary">질문 등록하기</a>
    </div>


    <form action="{{ url_for('main.index') }}" method="get" id="searchForm">
        <input type="hidden" name="page" id="page" value="{{ notice_list.page }}">
    </form>


</div>
{% endblock %}

{% block script %}
<!-- slider -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="cdnjs.cloudflare.com/ajax/libs/Swiper/8.4.7/swiper-bundle.min.js"></script>
<!--아이콘 cdn-->
<script src="https://kit.fontawesome.com/27fd60e7f1.js" crossorigin="anonymous"></script>
<!--JS-->
<script src="{{ url_for('static', filename='main.js') }}"></script>
<script src="{{ url_for('static', filename='notice.js') }}"></script>
{% endblock %}